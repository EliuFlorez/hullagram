this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates["app/comments"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var s,l="",r="function",o=this.escapeExpression,c=this;return l+='<header class="bar-title">\n  <a class="button-prev" data-hull-action="back">Back</a>\n  <h1 class="title">Comments</h1>\n</header>\n\n\n\n<div class="content" data-hull-id="',(s=e.id)?s=s.call(n,{hash:{},data:a}):(s=n.id,s=typeof s===r?s.apply(n):s),l+=o(s)+'" data-hull-widget="comment">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n',s=c.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(s||0===s)&&(l+=s),l+="\n"},this.Hull.templates["app/friends"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var s,l="",r=this;return l+='<header class="bar-title">\n  <h1 class="title">Friends</h1>\n</header>\n\n\n\n<div class="content" data-hull-widget="friends" data-hull-limit="100">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n',s=r.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(s||0===s)&&(l+=s),l+="\n\n"},this.Hull.templates["app/likes"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var s,l="",r=this;return l+='<header class="bar-title">\n  <h1 class="title">Likes</h1>\n</header>\n\n\n<div class="content" data-hull-widget="likes">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n',s=r.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(s||0===s)&&(l+=s),l+="\n"},this.Hull.templates["app/nav"]=function(i,n,e,t,a){return this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{},'<nav class="bar-tab">\n  <ul class="tab-inner">\n    <li class="tab-item pictures share comments">\n      <a href="#/pictures">\n        <i class="icon-home icon-2x"></i>\n        <div class="tab-label">Home</div>\n      </a>\n    </li>\n    <li class="tab-item likes">\n      <a href="#/likes">\n        <i class="icon-heart icon-2x"></i>\n        <div class="tab-label">Likes</div>\n      </a>\n    </li>\n    <li class="tab-item">\n      <a href="#">\n        <div data-hull-widget="upload@hull"></div>\n        <i class="icon-camera icon-2x"></i>\n        <div class="tab-label">New picture</div>\n      </a>\n    </li>\n    <li class="tab-item friends users">\n      <a href="#/friends">\n        <i class="icon-group icon-2x"></i>\n        <div class="tab-label">My friends</div>\n      </a>\n    </li>\n    <li class="tab-item profile">\n      <a href="#/profile">\n        <i class="icon-user icon-2x"></i>\n        <div class="tab-label">Me</div>\n      </a>\n    </li>\n  </ul>\n</nav>\n'},this.Hull.templates["app/new_picture"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var s,l="",r="function",o=this.escapeExpression;return l+='<div  data-hull-source_url="',(s=e.source_url)?s=s.call(n,{hash:{},data:a}):(s=n.source_url,s=typeof s===r?s.apply(n):s),l+=o(s)+'"\n      data-hull-blob="',(s=e.blob)?s=s.call(n,{hash:{},data:a}):(s=n.blob,s=typeof s===r?s.apply(n):s),l+=o(s)+'"\n      data-hull-name="',(s=e.name)?s=s.call(n,{hash:{},data:a}):(s=n.name,s=typeof s===r?s.apply(n):s),l+=o(s)+'"\n      data-hull-widget="new_picture">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n'},this.Hull.templates["app/pictures"]=function(i,n,e,t,a){function s(){return'\n  <a class="button-prev" data-hull-action="back">Back</a>\n  '}function l(){return'\n  <h1 class="title">Feed</h1>\n  '}function r(i,n){var t,a="";return a+='data-hull-id="',(t=e.id)?t=t.call(i,{hash:{},data:n}):(t=i.id,t=typeof t===p?t.apply(i):t),a+=u(t)+'"'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var o,c="",p="function",u=this.escapeExpression,d=this;return c+='<header class="bar-title">\n  ',o=e["if"].call(n,n.id,{hash:{},inverse:d.program(3,l,a),fn:d.program(1,s,a),data:a}),(o||0===o)&&(c+=o),c+='\n</header>\n\n\n\n<div class="content" ',o=e["if"].call(n,n.id,{hash:{},inverse:d.noop,fn:d.program(5,r,a),data:a}),(o||0===o)&&(c+=o),c+=' data-hull-widget="pictures">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n\n\n',o=d.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(o||0===o)&&(c+=o),c+="\n"},this.Hull.templates["app/profile"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var s,l="",r=this;return s=r.invokePartial(t["app.users"],"app.users",n,e,t,a),(s||0===s)&&(l+=s),l+="\n"},this.Hull.templates["app/share"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var s,l="",r="function",o=this.escapeExpression,c=this;return l+='<header class="bar-title">\n  <a class="button-prev" data-hull-action="back">Back</a>\n  <h1 class="title">Share</h1>\n</header>\n<div class="content" data-hull-id="',(s=e.id)?s=s.call(n,{hash:{},data:a}):(s=n.id,s=typeof s===r?s.apply(n):s),l+=o(s)+'" data-hull-widget="share">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n',s=c.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(s||0===s)&&(l+=s),l+="\n"},this.Hull.templates["app/users"]=function(i,n,e,t,a){function s(){var i="";return i+='\n  \n  <a class="button-prev" data-hull-action="back">Back</a>\n  '}function l(){var i="";return i+='\n  \n  <h1 class="title">My Profile</h1>\n  <a class="button" data-hull-action="logout">Logout</a>\n  '}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var r,o,c,p="",u=this,d=e.helperMissing,h="function",m=this.escapeExpression;return p+='\n\n<header class="bar-title">\n  ',c={hash:{},inverse:u.program(3,l,a),fn:u.program(1,s,a),data:a},r=e.ifEqual||n.ifEqual,o=r?r.call(n,n.currentView,"users",c):d.call(n,"ifEqual",n.currentView,"users",c),(o||0===o)&&(p+=o),p+='\n</header>\n\n\n\n<div class="content" data-hull-id="',(o=e.id)?o=o.call(n,{hash:{},data:a}):(o=n.id,o=typeof o===h?o.apply(n):o),p+=m(o)+'" data-hull-widget="profile">\n  <i class="icon-spinner icon-spin loading-spinner"></i>\n</div>\n\n',o=u.invokePartial(t["app.nav"],"app.nav",n,e,t,a),(o||0===o)&&(p+=o),p+="\n"},this.Hull.templates["comment/main"]=function(i,n,e,t,a){function s(i,n){var t,a,s,r="";return r+='\n  <div class="list-likes media cf">\n    <i class="icon-heart img"></i>\n    <div class="bd">\n        ',s={hash:{lastSep:" and "},inverse:u.noop,fn:u.program(2,l,n),data:n},t=e.join||i.join,a=t?t.call(i,i.likes,s):d.call(i,"join",i.likes,s),(a||0===a)&&(r+=a),r+="\n        like this.\n    </div>\n  </div>\n"}function l(i){var n,e="";return e+='<a href="#/users/'+p((n=i.user,n=null==n||n===!1?n:n.id,typeof n===c?n.apply(i):n))+'">'+p((n=i.user,n=null==n||n===!1?n:n.name,typeof n===c?n.apply(i):n))+"</a>"}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var r,o="",c="function",p=this.escapeExpression,u=this,d=e.helperMissing;return r=e["if"].call(n,n.likes,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(r||0===r)&&(o+=r),o+='\n\n<div data-hull-id="',(r=e.picture_id)?r=r.call(n,{hash:{},data:a}):(r=n.picture_id,r=typeof r===c?r.apply(n):r),o+=p(r)+'" data-hull-widget="comments@hull"></div>\n'},this.Hull.templates["comments/comments"]=function(i,n,e,t,a){function s(){return'<ul class="list-comments">'}function l(i,n){var t,a,s,l="";return l+='\n  <li>\n    <div class="author media cf">\n        <div class="img author-picture">\n            <a href="#/users/'+d((t=i.user,t=null==t||t===!1?t:t.id,typeof t===u?t.apply(i):t))+'">\n              <img src="'+d((t=i.user,t=null==t||t===!1?t:t.picture,typeof t===u?t.apply(i):t))+'">\n            </a>\n        </div>\n        <div class="bd author-metas">\n          <time class="author-timestamp float-right">',s={hash:{},data:n},l+=d((t=e.fromNow||i.fromNow,t?t.call(i,i.updated_at,s):h.call(i,"fromNow",i.updated_at,s)))+'</time>\n            <h3 class="author-title"><a href="#/users/'+d((t=i.user,t=null==t||t===!1?t:t.id,typeof t===u?t.apply(i):t))+'">'+d((t=i.user,t=null==t||t===!1?t:t.name,typeof t===u?t.apply(i):t))+'</a></h3>\n            <div class="author-body">',(a=e.description)?a=a.call(i,{hash:{},data:n}):(a=i.description,a=typeof a===u?a.apply(i):a),l+=d(a)+"</div>\n        </div>\n    </div>\n  </li>\n  "}function r(){return"</ul>"}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var o,c,p="",u="function",d=this.escapeExpression,h=e.helperMissing,m=this,f=e.blockHelperMissing;return p+="\n\n",o=e["if"].call(n,n.comments,{hash:{},inverse:m.noop,fn:m.program(1,s,a),data:a}),(o||0===o)&&(p+=o),p+="\n",c={hash:{},inverse:m.noop,fn:m.program(3,l,a),data:a},(o=e.comments)?o=o.call(n,c):(o=n.comments,o=typeof o===u?o.apply(n):o),e.comments||(o=f.call(n,o,c)),(o||0===o)&&(p+=o),p+="\n",o=e["if"].call(n,n.comments,{hash:{},inverse:m.noop,fn:m.program(5,r,a),data:a}),(o||0===o)&&(p+=o),p+='\n\n<nav>\n    <form class="post-comment media cf">\n        <a class="button button-main button-block imgExt" data-hull-action="comment">Send</a>\n        <div class="bd">\n          <textarea autofocus="autofocus" placeholder="Write something"></textarea>\n        </div>\n    </form>\n</nav>\n\n'},this.Hull.templates["friends/friends"]=function(i,n,e,t,a){function s(i,n){var t,a,s="";return s+='\n  <ul class="list list-friends">\n      ',a={hash:{},inverse:h.noop,fn:h.program(2,l,n),data:n},(t=e.friends)?t=t.call(i,a):(t=i.friends,t=typeof t===p?t.apply(i):t),e.friends||(t=m.call(i,t,a)),(t||0===t)&&(s+=t),s+="\n  </ul>\n"}function l(i,n){var t,a,s="";return s+='\n      <li>\n          <a href="#/users/',(t=e.uid)?t=t.call(i,{hash:{},data:n}):(t=i.uid,t=typeof t===p?t.apply(i):t),s+=u(t)+'">\n              <div class="author">\n                  <div class="media cf">\n                      <div class="img author-picture">\n                          <img src="',(t=e.avatar)?t=t.call(i,{hash:{},data:n}):(t=i.avatar,t=typeof t===p?t.apply(i):t),s+=u(t)+'" alt="',(t=e.name)?t=t.call(i,{hash:{},data:n}):(t=i.name,t=typeof t===p?t.apply(i):t),s+=u(t)+'" class="media-object img-round">\n                      </div>\n                      <div class="bd author-metas">\n                          <h3 class="author-title">',(t=e.name)?t=t.call(i,{hash:{},data:n}):(t=i.name,t=typeof t===p?t.apply(i):t),s+=u(t)+'</h3>\n                          <h4 class="author-updated">Joined ',a={hash:{},data:n},s+=u((t=e.fromNow||i.fromNow,t?t.call(i,i.created_at,a):d.call(i,"fromNow",i.created_at,a)))+'</h4>\n                      </div>\n                  </div>\n              </div>\n              <span class="chevron"></span>\n              <span class="count">\n                '+u((t=i.stats,t=null==t||t===!1?t:t.images,typeof t===p?t.apply(i):t))+' <i class="icon-camera"></i>\n              </span>\n            </a>\n      </li>\n  '}function r(){return'\n  <div class="empty-state">\n    <i>&#9785;</i>\n    <h3>No friends yet</h3>\n  </div>\n'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var o,c="",p="function",u=this.escapeExpression,d=e.helperMissing,h=this,m=e.blockHelperMissing;return c+="\n\n",o=e["if"].call(n,n.friends,{hash:{},inverse:h.program(4,r,a),fn:h.program(1,s,a),data:a}),(o||0===o)&&(c+=o),c+="\n\n"},this.Hull.templates["hullagram/main"]=function(i,n,e,t,a){function s(){return'\n\n<div data-hull-widget="app"></div>\n\n'}function l(){return'\n\n<section class="login">\n  <div class="login-center">\n    <h1 class="logo">Hullagram</h1>\n    Insta-lolcats\n  </div>\n  <div class="login-bottom">\n    <a class="button-main button-twitter button-block" data-hull-provider="twitter" data-hull-action="login">\n      Login with Twitter\n    </a>\n  </div>\n</section>\n\n'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var r,o="",c=this;return r=e["if"].call(n,n.loggedIn,{hash:{},inverse:c.program(3,l,a),fn:c.program(1,s,a),data:a}),(r||0===r)&&(o+=r),o+="\n"},this.Hull.templates["like_button/like_button"]=function(i,n,e,t,a){function s(){return'\n  <a class="liked">\n    Loading...\n  </a>\n'}function l(i,n){var t,a="";return a+="\n  ",t=e["if"].call(i,i.liked,{hash:{},inverse:h.program(6,o,n),fn:h.program(4,r,n),data:n}),(t||0===t)&&(a+=t),a+="\n"}function r(i,n){var t,a="";return a+='\n    <a data-hull-action="unlike" class="liked">\n      Unlike\n      <i class="icon-heart"> ',(t=e.likes)?t=t.call(i,{hash:{},data:n}):(t=i.likes,t=typeof t===u?t.apply(i):t),a+=d(t)+" </i>\n    </a>\n  "}function o(i,n){var t,a="";return a+='\n    <a data-hull-action="like">\n      Like\n      <i class="icon-heart"> ',(t=e.likes)?t=t.call(i,{hash:{},data:n}):(t=i.likes,t=typeof t===u?t.apply(i):t),a+=d(t)+" </i>\n    </a>\n  "}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var c,p="",u="function",d=this.escapeExpression,h=this;return c=e["if"].call(n,n.working,{hash:{},inverse:h.program(3,l,a),fn:h.program(1,s,a),data:a}),(c||0===c)&&(p+=c),p+="\n"},this.Hull.templates["likes/main"]=function(i,n,e,t,a){function s(i,n){var t,a,s="";return s+='\n  <ul class="list-grid cf">\n  ',a={hash:{},inverse:h.noop,fn:h.program(2,l,n),data:n},(t=e.pictures)?t=t.call(i,a):(t=i.pictures,t=typeof t===p?t.apply(i):t),e.pictures||(t=m.call(i,t,a)),(t||0===t)&&(s+=t),s+="\n  </ul>\n"}function l(i,n){var t,a,s="";return s+='\n      <li>\n          <a href="#/pictures/',(t=e.id)?t=t.call(i,{hash:{},data:n}):(t=i.id,t=typeof t===p?t.apply(i):t),s+=u(t)+'" class="square_thumb">\n              <img src="',a={hash:{},data:n},s+=u((t=e.imageUrl||i.imageUrl,t?t.call(i,i.id,"square",a):d.call(i,"imageUrl",i.id,"square",a)))+'" width="135" height="135" />\n          </a>\n      </li>\n  '}function r(){return'\n  <div class="empty-state">\n    <i>&#9785;</i>\n    <h3>No photos yet</h3>\n  </div>\n'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var o,c="",p="function",u=this.escapeExpression,d=e.helperMissing,h=this,m=e.blockHelperMissing;return o=e["if"].call(n,n.pictures,{hash:{},inverse:h.program(4,r,a),fn:h.program(1,s,a),data:a}),(o||0===o)&&(c+=o),c+="\n"},this.Hull.templates["new_picture/main"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var s,l="",r="function",o=this.escapeExpression;return l+='<header class="bar-title">\n  <a class="button" onclick="window.history.back()">\n    Cancel\n  </a>\n  <h1 class="title">Publish</h1>\n  <a class="button" href="#" data-hull-action="send">\n    Send\n  </a>\n</header>\n<div class="content">\n  <div class="new-picture-placeholder">\n    <img src="',(s=e.blob)?s=s.call(n,{hash:{},data:a}):(s=n.blob,s=typeof s===r?s.apply(n):s),l+=o(s)+'">\n  </div>\n  <div class="new-picture-description">\n    <textarea id="picture-description" row="2" placeholder="Write something here"></textarea>\n  </div>\n</div>\n'},this.Hull.templates["pictures/likes"]=function(i,n,e,t,a){function s(i,n){var t,a,s,r="";return r+='\n  <div class="list-likes media cf">\n      <i class="icon-heart img"></i>\n      <div class="bd">\n          ',s={hash:{lastSep:" and "},inverse:u.noop,fn:u.program(2,l,n),data:n},t=e.join||i.join,a=t?t.call(i,i.likes,s):d.call(i,"join",i.likes,s),(a||0===a)&&(r+=a),r+="\n          like this.\n      </div>\n  </div>\n"}function l(i){var n,e="";return e+='<a href="#/users/'+p((n=i.user,n=null==n||n===!1?n:n.id,typeof n===c?n.apply(i):n))+'">'+p((n=i.user,n=null==n||n===!1?n:n.name,typeof n===c?n.apply(i):n))+"</a>"}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var r,o="",c="function",p=this.escapeExpression,u=this,d=e.helperMissing;return r=e["if"].call(n,n.likes,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(r||0===r)&&(o+=r),o+="\n"},this.Hull.templates["pictures/main"]=function(i,n,e,t,a){function s(i,n){var t,a,s="";return s+='\n<ul class="list-pictures">\n  ',a={hash:{},inverse:u.noop,fn:u.program(2,l,n),data:n},(t=e.pictures)?t=t.call(i,a):(t=i.pictures,t=typeof t===d?t.apply(i):t),e.pictures||(t=m.call(i,t,a)),(t||0===t)&&(s+=t),s+="\n</ul>\n\n",t=e["if"].call(i,i.single_picture_id,{hash:{},inverse:u.noop,fn:u.program(4,r,n),data:n}),(t||0===t)&&(s+=t),s+="\n\n"}function l(i,n){var a,s="";return s+="\n    ",a=u.invokePartial(t["pictures.picture"],"pictures.picture",i,e,t,n),(a||0===a)&&(s+=a),s+="\n  "}function r(i,n){var a,s="";return s+="\n  ",a=u.invokePartial(t["pictures.likes"],"pictures.likes",i,e,t,n),(a||0===a)&&(s+=a),s+='\n  <div data-hull-id="',(a=e.single_picture_id)?a=a.call(i,{hash:{},data:n}):(a=i.single_picture_id,a=typeof a===d?a.apply(i):a),s+=h(a)+'" data-hull-widget="comments@hull" class="hull-comments-embed"></div>\n'}function o(){return'\n<div class="empty-state">\n  <i>&#9785;</i>\n  <h3>No photos yet</h3>\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var c,p="",u=this,d="function",h=this.escapeExpression,m=e.blockHelperMissing;return c=e["if"].call(n,n.pictures,{hash:{},inverse:u.program(6,o,a),fn:u.program(1,s,a),data:a}),(c||0===c)&&(p+=c),p+="\n"},this.Hull.templates["pictures/picture"]=function(i,n,e,t,a){function s(i,n){var t,a="";return a+='\n    <div class="author-description">\n      ',(t=e.description)?t=t.call(i,{hash:{},data:n}):(t=i.description,t=typeof t===d?t.apply(i):t),a+=h(t)+"\n    </div>\n  "}function l(i){var n,e="";return e+="\n              "+h((n=i.stats,n=null==n||n===!1?n:n.comments,typeof n===d?n.apply(i):n))+"\n            "}function r(){return"\n              0\n            "}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var o,c,p,u="",d="function",h=this.escapeExpression,m=e.helperMissing,f=this;return u+='<li class="island">\n  <div class="author">\n    <div class="media cf">\n      <div class="img author-picture">\n        <a href="#/users/'+h((o=n.actor,o=null==o||o===!1?o:o.id,typeof o===d?o.apply(n):o))+'">\n          <img src="'+h((o=n.actor,o=null==o||o===!1?o:o.picture,typeof o===d?o.apply(n):o))+'">\n        </a>\n      </div>\n      <div class="bd author-metas">\n        <a href="#/users/'+h((o=n.actor,o=null==o||o===!1?o:o.id,typeof o===d?o.apply(n):o))+'">\n          <h3 class="author-title">'+h((o=n.actor,o=null==o||o===!1?o:o.name,typeof o===d?o.apply(n):o))+'</h3>\n        </a>\n        <time class="author-timestamp">',p={hash:{},data:a},u+=h((o=e.fromNow||n.fromNow,o?o.call(n,n.created_at,p):m.call(n,"fromNow",n.created_at,p)))+"</time>\n      </div>\n    </div>\n  </div>\n  ",c=e["if"].call(n,n.description,{hash:{},inverse:f.noop,fn:f.program(1,s,a),data:a}),(c||0===c)&&(u+=c),u+='\n  <div class="picture">\n    <a href="#/pictures/',(c=e.id)?c=c.call(n,{hash:{},data:a}):(c=n.id,c=typeof c===d?c.apply(n):c),u+=h(c)+'">\n      <img src="',p={hash:{},data:a},u+=h((o=e.imageUrl||n.imageUrl,o?o.call(n,n.id,"medium",p):m.call(n,"imageUrl",n.id,"medium",p)))+'"  />\n    </a>\n  </div>\n  <div class="list-actions cf">\n    <ul class="segmented-controller">\n      <li data-hull-widget="like_button@hull" data-hull-id="',(c=e.id)?c=c.call(n,{hash:{},data:a}):(c=n.id,c=typeof c===d?c.apply(n):c),u+=h(c)+'" data-hull-likes-count="'+h((o=n.stats,o=null==o||o===!1?o:o.likes,typeof o===d?o.apply(n):o))+'">\n      </li>\n      <li>\n        <a href="#/pictures/',(c=e.id)?c=c.call(n,{hash:{},data:a}):(c=n.id,c=typeof c===d?c.apply(n):c),u+=h(c)+'/comments" class="">\n          Comment \n          <i class="icon-comment">\n            ',c=e["if"].call(n,(o=n.stats,null==o||o===!1?o:o.comments),{hash:{},inverse:f.program(5,r,a),fn:f.program(3,l,a),data:a}),(c||0===c)&&(u+=c),u+='\n          </i>\n        </a>\n      </li>\n      <li>\n        <a href="#/pictures/',(c=e.id)?c=c.call(n,{hash:{},data:a}):(c=n.id,c=typeof c===d?c.apply(n):c),u+=h(c)+'/share" class=""> Share \n          <i class="icon-share-alt"> </i>\n        </a>\n      </li>\n    </ul>\n  </div>\n</li>\n'},this.Hull.templates["profile/main"]=function(i,n,e,t,a){this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var s,l,r="",o="function",c=this.escapeExpression,p=e.helperMissing;return r+='<div class="profile island">\n  <div class="author">\n    <div class="media cf">\n      <div class="img author-picture">\n        <img src="'+c((s=n.user,s=null==s||s===!1?s:s.picture,typeof s===o?s.apply(n):s))+'">\n      </div>\n      <div class="bd author-metas">\n\n        <h3 class="author-title">'+c((s=n.user,s=null==s||s===!1?s:s.name,typeof s===o?s.apply(n):s))+"</h3>\n\n        "+'\n        <h4 class="author-location">Paris, France</h4>\n\n        '+'\n        <h4 class="author-updated">',l={hash:{},data:a},r+=c((s=e.fromNow||n.fromNow,s?s.call(n,(s=n.user,null==s||s===!1?s:s.created_at),l):p.call(n,"fromNow",(s=n.user,null==s||s===!1?s:s.created_at),l)))+'</h4>\n\n      </div>\n    </div>\n  </div>\n  <ul class="profile-stats cf">\n    <li>\n      <strong>'+c((s=n.user,s=null==s||s===!1?s:s.stats,s=null==s||s===!1?s:s.images,typeof s===o?s.apply(n):s))+"</strong>\n      <small>Photos</small>\n    </li>\n    <li>\n      <strong>"+c((s=n.friends,s=null==s||s===!1?s:s.length,typeof s===o?s.apply(n):s))+"</strong>\n      <small>Friends</small>\n    </li>\n    <li>\n      <strong>"+c((s=n.user,s=null==s||s===!1?s:s.stats,s=null==s||s===!1?s:s.liked,typeof s===o?s.apply(n):s))+'</strong>\n      <small>Likes</small>\n    </li>\n  </ul>\n</div>\n\n<h3 class="heading-body">Latest Pictures</h3>\n\n'+"\n<div data-hull-widget='pictures' data-hull-user-id=\""+c((s=n.user,s=null==s||s===!1?s:s.id,typeof s===o?s.apply(n):s))+'"></div>\n'},this.Hull.templates["share/main"]=function(i,n,e,t,a){function s(i,n){var t,a,s="";return s+='\n  <div class="share-picture">\n    <div class="media">\n      <div class="img">\n        <img src="',a={hash:{},data:n},s+=c((t=e.imageUrl||i.imageUrl,t?t.call(i,(t=i.picture,null==t||t===!1?t:t.id),"small",a):o.call(i,"imageUrl",(t=i.picture,null==t||t===!1?t:t.id),"small",a)))+'" alt="">\n      </div>\n      <div class="bd">\n        <textarea id="share-description" rows="3" placeholder="Write something">'+c((t=i.picture,t=null==t||t===!1?t:t.description,typeof t===p?t.apply(i):t))+'</textarea>\n      </div>\n    </div>\n\n    <a class="button button-block button-share" data-hull-action="share" data-hull-network="twitter" data-hull-source-url="',a={hash:{},data:n},s+=c((t=e.imageUrl||i.imageUrl,t?t.call(i,(t=i.picture,null==t||t===!1?t:t.id),"medium",a):o.call(i,"imageUrl",(t=i.picture,null==t||t===!1?t:t.id),"medium",a)))+'">\n      <i class="icon-twitter"></i>\n      Share on Twitter\n    </a>\n  </div>\n'}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{};var l,r="",o=e.helperMissing,c=this.escapeExpression,p="function",u=this;return l=e["if"].call(n,n.picture,{hash:{},inverse:u.noop,fn:u.program(1,s,a),data:a}),(l||0===l)&&(r+=l),r+="\n"},this.Hull.templates["upload/file_single"]=function(i,n,e,t,a){return this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{},'<span class="btn btn-success fileinput-button">\n  <i class="icon-plus icon-white"></i>\n  <input type="file" name="file" accept="image/*" capture="camera">\n</span>\n'},this.Hull.templates["upload/upload"]=function(i,n,e,t,a){function s(i,n){var a,s,r,o="";return o+='\n  <form action="',(a=e.url)?a=a.call(i,{hash:{},data:n}):(a=i.url,a=typeof a===p?a.apply(i):a),o+=u(a)+'" method="post" enctype="multipart/form-data" class="hull_upload">\n\n    ',r={hash:{},inverse:d.noop,fn:d.program(2,l,n),data:n},a=e.key_value||i.key_value,s=a?a.call(i,i.params,r):h.call(i,"key_value",i.params,r),(s||0===s)&&(o+=s),o+='\n\n    <div class="dropzone well hidden-phone hidden-phone-tablet" height="100px;" width="100px;">Drop an image here</div>\n\n    <input type="hidden" name="Filename" value=""/>\n    <input type="hidden" name="Content-Type" value=""/>\n    <input type="hidden" name="name" value=""/>\n\n    <div class="fileupload-buttonbar row-fluid">\n      <div class=\'span12\'>\n        ',s=d.invokePartial(t["upload.file_single"],"upload.file_single",i,e,t,n),(s||0===s)&&(o+=s),o+='\n      </div>\n    </div>\n\n    <div class="fileupload-progress fade row-fluid">\n      <div class=\'span12\'>\n        <div class="progress progress-success progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100">\n          <div class="bar" style="width:0%;"></div>\n        </div>\n        <div class="progress-extended">&nbsp;</div>\n      </div>\n    </div>\n\n\n    <div class=\'error\'></div>\n    <div class=\'filescontainer\'></div>\n  </form>\n'}function l(i,n){var t,a="";return a+='\n      <input type="hidden" name="',(t=e.key)?t=t.call(i,{hash:{},data:n}):(t=i.key,t=typeof t===p?t.apply(i):t),a+=u(t)+'" value="',(t=e.value)?t=t.call(i,{hash:{},data:n}):(t=i.value,t=typeof t===p?t.apply(i):t),a+=u(t)+'"/>\n    '}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),t=this.merge(t,i.partials),a=a||{};var r,o,c="",p="function",u=this.escapeExpression,d=this,h=e.helperMissing,m=e.blockHelperMissing;return o={hash:{},inverse:d.noop,fn:d.program(1,s,a),data:a},(r=e.upload_policy)?r=r.call(n,o):(r=n.upload_policy,r=typeof r===p?r.apply(n):r),e.upload_policy||(r=m.call(n,r,o)),(r||0===r)&&(c+=r),c+="\n"},this.Hull.templates["uploader/uploader"]=function(i,n,e,t,a){return this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),a=a||{},'<div class="notification">\n  <i></i>\n  <p></p>\n</div>\n'},Hull.widget("app",{templates:["pictures","likes","share","comments","new_picture","friends","users","profile","nav"],initialize:function(){return this.initRouter(),this.sandbox.on("hullagram.newPicture",function(i){this.render("new_picture",i)},this),!1},initRouter:function(){var i=Hull.require("backbone"),n=Hull.require("underscore"),e=i.Router.extend({initialize:function(){this.routesHit=0,i.history.on("route",function(){this.routesHit++},this)},routes:{":view(/:id)(/:action)":"view"},back:function(){console.warn("RoutesHit"),this.routesHit>1?window.history.back():this.navigate("/pictures",{trigger:!0,replace:!0})}}),t=new e;t.on("route:view",function(i,e,t){var a=t||i||"pictures";n.include(this.templates,a)||(a="pictures"),this.currentView=a,this.render(a,{id:e})},this),this.sandbox.on("hullagram.route",function(i){t.navigate(i,{trigger:!0})}),this.sandbox.on("hullagram.back",function(){t.back()}),setTimeout(function(){i.history.start()},200)},actions:{back:function(){this.sandbox.emit("hullagram.back")}},beforeRender:function(i){return i.currentView=this.currentView,i},afterRender:function(){var i=this.$el.find("li.tab-item."+this.currentView);i.addClass("active")}}),Hull.widget("comment",{templates:["main"],datasources:{likes:":id/likes"},actions:{back:function(){this.sandbox.emit("hullagram.back")}},beforeRender:function(i){i.picture_id=this.options.id}}),Hull.widget("friends",{type:"Hull",templates:["friends"],options:{id:"me",provider:"hull",limit:10,scope:""},refreshEvents:["model.hull.me.change"],initialize:function(){this.me=this.api.model("me"),this.provider=this.options.provider},getUserId:function(){return this.options.id||"me"},actions:{authorize:function(){"facebook"===this.provider?this.sandbox.login("facebook",{scope:this.options.scope}).then(this.sandbox.util._.bind(function(){this.render()},this)):this.sandbox.login(this.provider,{}).then(this.sandbox.util._.bind(function(){},this))}},datasources:{authorized:function(){return this.isAuthorized(this.provider)},friends:function(){var i=this.sandbox.data.deferred(),n=this,e=this.sandbox.util._.reduce(this.me.get("identities"),function(i,n){return i[n.provider]=n,i},{});return this.loggedIn()[this.provider]||"hull"===this.provider&&(this.loggedIn()||"me"!==this.getUserId())?this.request(this.provider,e,this.options).then(this.sandbox.util._.bind(function(e){var t=this.sandbox.util._.bind(this.serializers[n.provider],this,e,this.options),a=t().slice(0,this.options.limit);i.resolve(a)},this)):i.resolve([]),i.promise()}},isAuthorized:function(i){var n=this.sandbox.data.deferred(),e=this,t={provider_name:i,provider:!1,permissions:!1};if("hull"===i){t.permissions=!0;var a=this.loggedIn()||"me"!==this.getUserId();t.provider=a;var s=this.sandbox.config.services.types.auth;s&&s.length?(t.provider_name=s[0].replace(/_app$/,""),n.resolve(t)):n.reject(Error("No auth provider for this app")),n.resolve(t)}else this.loggedIn()[i]?(t.provider=!0,"facebook"===i?this.hasFacebookPermissions(e.options.scope,t,n):(t.permissions=!0,n.resolve(t))):(t.provider=!1,n.resolve(t));return n.promise()},hasFacebookPermissions:function(i,n,e){this.sandbox,i?this.api({provider:"facebook",path:"me/permissions"}).then(function(t){this.sandbox.util._.isString(i)&&(i=i.replace(" ","").split(",")),this.sandbox.util._.isArray(i)&&this.sandbox.util._.intersection(this.sandbox.util._.keys(t.data[0]),i).length==i.length&&(n.permissions=!0),e.resolve(n)}):(n.permissions=!0,e.resolve(n))},request:function(i,n){var e,t;switch(i){case"hull":e=this.getUserId()+"/friends",t={per_page:this.options.limit};break;case"facebook":e={provider:"facebook",path:this.getUserId()+"/friends"},t={limit:this.options.limit};break;case"twitter":e={provider:"twitter",path:"friends/list"},t={user_id:"me"===this.getUserId()?n.twitter.uid:this.getUserId()};break;case"instagram":e={provider:"instagram",path:"users/"+("me"===this.getUserId()?"self":this.getUserId())+"/follows"},t={per_page:this.options.limit};break;case"github":e={provider:"github",path:"users/"+("me"===this.getUserId()?n.github.login:this.getUserId())+"/following"},t={per_page:this.options.limit}}return this.api(e,t)},serializers:{hull:function(i){return this.sandbox.util._.map(i,function(i){return{provider:"hull",name:i.name,avatar:i.picture,created_at:i.created_at,stats:i.stats,uid:i.id}})},facebook:function(i){return this.sandbox.util._.map(i.data,function(i){return{provider:"facebook",name:i.name,avatar:"http://graph.facebook.com/"+i.id+"/picture",uid:i.id}})},twitter:function(i){return this.sandbox.util._.map(i.users,function(i){return{provider:"twitter",name:i.name,avatar:i.profile_image_url,uid:i.id}})},instagram:function(i){return this.sandbox.util._.map(i,function(i){return{provider:"instagram",name:i.full_name,avatar:i.profile_picture,uid:i.id}})},github:function(i){return this.sandbox.util._.map(i,function(i){return{provider:"github",name:i.login,avatar:i.avatar_url,id:i.id}})}}}),Hull.widget("hullagram",{templates:["main"],refreshEvents:["model.hull.me.change"]}),Hull.widget("likes",{templates:["main"],datasources:{likes:function(){return this.api("me/liked",{order_by:"created_at ASC",limit:100})}},beforeRender:function(i){var n=this.sandbox.util._;i.pictures=n.filter(n.pluck(i.likes,"liked"),function(i){return i&&"image"===i.type})}}),Hull.widget("new_picture",{templates:["main"],beforeRender:function(i){i.source_url=this.options.source_url,i.blob=this.options.blob},actions:{send:function(i,n){$(n.el).addClass("disabled-state");var e=document.getElementById("picture-description");this.sandbox.emit("hullagram.savingPicture"),this.api.post("/me/images",{description:e.value,source_url:this.options.source_url,name:this.options.name}).then(function(i){this.sandbox.emit("hullagram.pictureSaved",i)}.bind(this))}}}),Hull.widget("pictures",{templates:["main","picture","likes"],datasources:{activity:function(){var i={obj_type:"Image",verb:"create"};return this.options.userId&&(i.actor_id=this.options.userId),this.options.id&&(i.obj_id=this.options.id),this.api("app/activity",{limit:10,where:i,order_by:"created_at DESC"})},likes:function(){return this.options.id?this.api(this.options.id+"/likes"):void 0}},actions:{back:function(){this.sandbox.emit("hullagram.back")}},beforeRender:function(i){this.options.id&&(i.single_picture_id=this.options.id);var n=this.sandbox.util._.pluck(i.activity,"object");i.pictures=this.sandbox.util._.filter(n,function(i){return i})}}),Hull.widget("profile",{templates:["main"],datasources:{user:":id",friends:":id/friends"},initialize:function(){this.options.id=this.options.id||"me"
},beforeRender:function(i){i.isMe=i.user.id===i.me.id,i.user.stats.images=i.user.stats.images||"0",i.user.stats.liked=i.user.stats.liked||"0"}}),Hull.widget("share",{templates:["main"],datasources:{picture:":id"},actions:{back:function(){this.sandbox.emit("hullagram.back")},share:function(i,n){var e=document.getElementById("share-description"),t=e.value,a=window.location.protocol+n.data.sourceUrl+"&text="+t+"&via=hull",s="https://twitter.com/share?url="+a;window.open(s)}}}),Hull.widget("uploader",{templates:["uploader"],initialize:function(){this.sandbox.on("hull.upload.send",this.onUploadSend,this),this.sandbox.on("hull.upload.done",this.onUploadDone,this),this.sandbox.on("hull.upload.progressall",this.onUploadProgress,this),this.sandbox.on("hullagram.pictureSaved",this.onPictureSaved,this),this.sandbox.on("hullagram.savingPicture",this.onSavingPicture,this)},afterRender:function(){this.$notification=this.$el.find(".notification")},onUploadSend:function(){this.$notification.attr("class","notification active fadeIn").find("i").attr("class","icon-spinner icon-spin").end().find("p").text("Uploading")},onPictureSaved:function(i){this.$notification.attr("class","notification active fadeOut animation-delay-long").one("animationend webkitAnimationEnd",function(){this.sandbox.emit("hullagram.route","/pictures/"+i.id)}.bind(this)).find("i").attr("class","icon-cloud-upload").end().find("p").text("Sent")},onSavingPicture:function(){this.$notification.attr("class","notification active fadeIn").find("i").attr("class","icon-spinner icon-spin").end().find("p").text("Sending")},onUploadProgress:function(i){var n=Math.round(100*i.data.loaded/i.data.total);this.$notification.find("p").text("Uploading ("+n+"%)")},onUploadDone:function(i){var n=i.data.files,e=n[0];if(e.type&&"image"===e.type.split("/")[0]){var t=(document.createElement("img"),new FileReader),a=this;t.onload=function(i){a.$notification.attr("class","notification active fadeOut animation-delay").one("animationend webkitAnimationEnd",function(){a.sandbox.emit("hullagram.newPicture",{source_url:e.url,name:e.name,blob:i.target.result})}).find("i").attr("class","icon-spinner icon-spin").end().find("p").text("Uploading")},t.readAsDataURL(e)}}});